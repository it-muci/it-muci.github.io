<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>关于我</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* 通用样式和字体 */
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            overflow: hidden; /* 防止滚动条 */
            background: url('https://4kwallpapers.com/images/walls/thumbs_2t/5893.jpg') no-repeat center center fixed; /* macOS 壁纸 */
            background-size: cover;
            color: #fff;
            cursor: default;
            /* 禁用iOS弹性滚动，避免与页面拖拽冲突 */
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y; /* 允许垂直滚动，但可以被JS覆盖 */
        }

        /* 顶部菜单栏 (macOS 样式) */
        .menu-bar {
            background-color: rgba(0, 0, 0, 0.6); /* 半透明黑色 */
            backdrop-filter: blur(10px); /* 磨砂效果 */
            color: #f0f0f0;
            height: 22px;
            display: flex; /* Default display */
            justify-content: space-between;
            align-items: center;
            padding: 0 10px;
            font-size: 13px;
            user-select: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .menu-left, .menu-right {
            display: flex;
            align-items: center;
        }

        .apple-logo {
            font-size: 16px;
            margin-right: 15px;
        }

        .menu-item {
            padding: 0 8px;
            cursor: pointer;
        }

        .menu-item.active, .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }

        .menu-icon {
            margin-left: 10px;
        }

        /* 桌面区域 (macOS 样式) */
        .desktop {
            position: absolute;
            top: 22px; /* 菜单栏高度 */
            bottom: 0;
            left: 0;
            right: 0;
            display: flex; /* Default display */
            flex-wrap: wrap;
            align-content: flex-start; /* 图标从顶部开始排列 */
            padding: 20px;
            perspective: 1000px; /* For 3D transforms */
            overflow: hidden; /* Prevent desktop scrolling */
        }

        .desktop-icon {
            width: 80px;
            text-align: center;
            margin: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #fff;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            user-select: none;
            transition: transform 0.1s ease-out; /* For hover/active states */
            position: relative; /* For context menu positioning */
        }
        .desktop-icon.dragging {
            opacity: 0.7;
            cursor: grabbing;
        }

        /* Font Awesome 图标样式调整 */
        .desktop-icon .fa-solid, .desktop-icon .fa-brands {
            font-size: 64px; /* 桌面图标尺寸 */
            margin-bottom: 5px;
        }

        /* 底部 Dock 栏 (macOS 样式) */
        .dock {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.3); /* Optimized transparency */
            backdrop-filter: blur(20px); /* Optimized blur */
            border-radius: 15px;
            padding: 5px 10px;
            display: flex; /* Default display */
            align-items: flex-end; /* 使图标底部对齐 */
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.05); /* Optimized shadow and inner highlight */
            border: 1px solid rgba(255, 255, 255, 0.1); /* Subtle light border */
            z-index: 999;
            will-change: transform; /* Hint for performance */
        }

        .dock-item {
            margin: 0 5px;
            text-align: center;
            cursor: pointer;
            position: relative;
            padding-bottom: 5px; /* 为文字留出空间 */
            transform-origin: bottom; /* 缩放时从底部开始 */
            transition: transform 0.1s ease-out; /* Smooth transition for scaling */
        }

        /* Font Awesome 图标样式调整：Dock 栏默认尺寸 */
        .dock-item .fa-solid, .dock-item .fa-brands {
            font-size: 40px; /* 默认尺寸从 50px 缩小到 40px */
            display: block;
            transition: transform 0.1s ease-out; /* 为图标本身添加过渡 */
        }

        .dock-item span {
            display: block; /* Always render, but control visibility with opacity */
            opacity: 0;
            pointer-events: none; /* Prevent interaction when hidden */
            transition: opacity 0.2s ease-out, bottom 0.2s ease-out; /* Add transition for tooltip */
            color: #fff;
            font-size: 11px;
            position: absolute;
            bottom: -20px; /* Start a bit lower for slide-up effect */
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            padding: 2px 5px;
            border-radius: 3px;
            white-space: nowrap;
        }

        /* Dock 栏悬停时图标放大效果 */
        .dock-item:hover span {
            opacity: 1; /* Fade in */
            bottom: -15px; /* Slide up to final position */
        }

        /* 模态窗口 */
        .modal-window {
            background-color: rgba(230, 230, 230, 0.95); /* 更接近 macOS 窗口的背景色 */
            backdrop-filter: blur(15px); /* 强化磨砂效果 */
            border-radius: 10px; /* 更大的圆角 */
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); /* 更深的阴影 */
            width: 600px;
            height: 400px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8); /* Initial scale for bounce-in */
            opacity: 0; /* Initially hidden */
            display: flex; /* Default display */
            flex-direction: column;
            overflow: hidden;
            color: #333;
            resize: both; /* 允许调整大小 */
            min-width: 300px;
            min-height: 200px;
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease-out; /* Bounce transition */
            z-index: 997; /* Default z-index */
            will-change: transform, opacity; /* Hint for performance */
        }

        .modal-window.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .modal-window.minimizing {
            transform: translate(-50%, 100vh) scale(0.1); /* Animate to bottom right */
            opacity: 0;
        }

        .modal-window.hidden {
            display: none; /* Truly hide after animation */
        }

        /* 窗口标题栏 */
        .window-header {
            background-color: #e0e0e0;
            background: linear-gradient(to bottom, #e0e0e0, #d0d0d0); /* 渐变效果 */
            border-bottom: 1px solid #c0c0c0; /* 更细的底部边框 */
            border-top-left-radius: 10px; /* 配合窗口圆角 */
            border-top-right-radius: 10px; /* 配合窗口圆角 */
            padding: 8px 10px;
            display: flex;
            align-items: center;
            justify-content: center; /* 标题居中 */
            position: relative;
            cursor: grab; /* 可拖拽 */
            user-select: none; /* 防止拖拽时选中文字 */
            flex-shrink: 0; /* Prevent header from shrinking */
        }

        /* 窗口控制按钮 */
        .window-controls {
            position: absolute;
            left: 12px; /* 稍作调整，更像 macOS */
            display: flex;
            align-items: center;
        }

        .window-controls span {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px; /* 按钮间距 */
            cursor: pointer;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 1px rgba(0, 0, 0, 0.1); /* 按钮内部高光和外部阴影 */
            transition: background-color 0.1s ease-in-out; /* 悬停动画 */
            position: relative; /* For pseudo-elements */
        }

        /* 按钮颜色和悬停效果 */
        .close-btn { background-color: #ff5f56; } /* 红色关闭按钮 */
        .minimize-btn { background-color: #ffbd2e; } /* 黄色最小化按钮 */
        .maximize-btn { background-color: #27c93f; } /* 绿色最大化按钮 */

        .window-controls span:hover {
            opacity: 0.8; /* 悬停时稍微透明 */
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3), 0 1px 2px rgba(0, 0, 0, 0.15); /* 悬停时阴影变化 */
        }

        /* 鼠标悬停在控制按钮上时显示小圆点 */
        .close-btn:hover::before {
            content: '\f00d';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 9px;
            color: rgba(100, 0, 0, 0.8);
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: block;
        }
        .minimize-btn:hover::before {
            content: '\f068';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 9px;
            color: rgba(100, 70, 0, 0.8);
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: block;
        }
        .maximize-btn:hover::before {
            content: '\f065';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            font-size: 9px;
            color: rgba(0, 100, 0, 0.8);
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: block;
        }

        /* 隐藏默认显示的小圆点 */
        .window-controls span::before {
            display: none;
        }

        .window-title {
            font-weight: 600;
            font-size: 14px;
            color: #555;
        }

        .window-content {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            color: #444;
            background-color: #f5f5f5; /* 窗口内容区背景 */
            border-bottom-left-radius: 10px; /* 配合窗口圆角 */
            border-bottom-right-radius: 10px; /* 配合窗口圆角 */
            -webkit-overflow-scrolling: touch; /* 启用iOS平滑滚动 */
        }
        .project-item {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #eee;
        }
        .project-item:last-child {
            border-bottom: none;
        }
        .project-item h4 {
            margin-top: 0;
            margin-bottom: 5px;
            color: #333;
        }
        .project-item p {
            margin-bottom: 5px;
        }
        .project-item a {
            color: #007aff;
            text-decoration: none;
        }
        .project-item a:hover {
            text-decoration: underline;
        }

        /* Context Menu (Right-Click Menu) */
        .context-menu {
            position: absolute;
            background-color: rgba(230, 230, 230, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 6px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 5px 0;
            min-width: 150px;
            z-index: 1001; /* Above everything */
            display: none; /* Hidden by default */
            color: #333;
        }

        .context-menu-item {
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
        }

        .context-menu-item:hover {
            background-color: #007aff;
            color: #fff;
        }

        .context-menu-separator {
            height: 1px;
            background-color: rgba(0, 0, 0, 0.1);
            margin: 5px 0;
        }

        /* --- macOS Boot Screen Overlay --- */
        .macos-boot-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1a1a1a; /* Dark background like macOS boot */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000; /* Ensure it's on top */
            transition: opacity 1s ease-out; /* Fade out effect */
        }

        .macos-boot-overlay.hidden {
            opacity: 0;
            pointer-events: none; /* Allow click-through */
            display: none; /* Crucial: completely remove from layout */
        }

        .apple-logo-boot {
            font-size: 80px; /* Larger Apple logo */
            color: #f0f0f0;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-out; /* Fade in the logo */
        }

        .progress-bar-container {
            width: 300px;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            animation: fadeIn 1s ease-out 0.5s forwards; /* Fade in after logo */
            opacity: 0; /* Initially hidden */
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background-color: #f0f0f0;
            border-radius: 3px;
            animation: fillProgress 4s ease-in-out forwards; /* Fill animation */
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fillProgress {
            from { width: 0%; }
            to { width: 100%; }
        }

        /* --- 移动端（iOS 样式） --- */
        @media (max-width: 768px) {
            body {
                background-size: cover; /* iOS 风格的背景色，模拟主屏幕背景 */
                background-color: #2b3a4a;
                background-image: url("https://p2.itc.cn/q_70/images03/20211022/e036ad68796a4c7285f78f965702e320.png"); /* 移动端不使用 macOS 壁纸，或者使用 iOS 风格壁纸 */
                overscroll-behavior-y: contain; /* 防止背景滚动 */
            }

            /* 隐藏 macOS 菜单栏 */
            .menu-bar {
                display: none; /* Hide macOS elements on mobile */
            }

            /* 模拟 iOS 状态栏 */
            .ios-status-bar {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                height: 40px; /* iOS 状态栏高度 */
                background-color: rgba(0, 0, 0, 0.2); /* 半透明背景 */
                backdrop-filter: blur(10px);
                color: #fff;
                display: flex; /* Default display for iOS status bar */
                justify-content: space-between;
                align-items: center;
                padding: 0 15px;
                font-size: 13px;
                z-index: 1000;
                font-weight: 600; /* iOS 状态栏字体更粗 */
                -webkit-app-region: drag; /* 模拟可拖拽区域 */
            }

            .ios-status-bar .time {
                font-weight: 600;
            }

            .ios-status-bar .icons {
                display: flex;
                align-items: center;
            }

            .ios-status-bar .icons i {
                margin-left: 8px;
                font-size: 14px;
            }
            .ios-status-bar .icons .fa-battery-full {
                position: relative;
                width: 25px; /* 电池图标宽度 */
                height: 12px; /* 电池图标高度 */
                border: 1px solid rgba(255, 255, 255, 0.7);
                border-radius: 3px;
                margin-left: 10px;
                font-size: 0; /* 隐藏 Font Awesome 默认电池图标 */
            }
            .ios-status-bar .icons .fa-battery-full::before {
                content: '';
                position: absolute;
                top: 1px;
                left: 1px;
                bottom: 1px;
                width: 70%; /* 模拟电池电量 */
                background-color: #fff;
                border-radius: 2px;
            }
            .ios-status-bar .icons .fa-battery-full::after {
                content: '';
                position: absolute;
                top: 3px;
                right: -4px;
                width: 2px;
                height: 6px;
                background-color: rgba(255, 255, 255, 0.7);
                border-radius: 0 1px 1px 0;
            }

            /* 桌面区域调整为 iOS 应用网格 */
            .desktop {
                top: 40px; /* 状态栏高度 */
                bottom: 80px; /* Dock 栏和 Home 指示条高度 */
                padding: 20px 10px;
                align-content: flex-start;
                justify-content: center; /* 居中排列图标 */
                display: flex; /* Default display for iOS desktop */
                flex-wrap: wrap; /* Allow icons to wrap */
                overflow-y: auto; /* Enable scrolling for icons */
                -webkit-overflow-scrolling: touch; /* Smooth iOS scrolling */
            }

            .desktop-icon {
                width: 75px; /* iOS 应用图标大小 */
                height: 90px; /* 包含标题的高度 */
                margin: 8px; /* 间距 */
                color: #fff;
                text-shadow: none; /* iOS 图标没有阴影文字 */
                flex-shrink: 0; /* Prevent icons from shrinking */
                touch-action: none; /* Enable custom drag */
            }

            .desktop-icon .fa-solid, .desktop-icon .fa-brands {
                font-size: 55px; /* iOS 应用图标视觉大小 */
                width: 60px; /* 背景容器大小 */
                height: 60px; /* 模拟 iOS 图标背景色和边框 */
                background-color: rgba(255, 255, 255, 0.2);
                border-radius: 18%; /* iOS 典型的“方圆”图标 */
                display: flex;
                justify-content: center;
                align-items: center;
                margin-bottom: 5px;
                overflow: hidden; /* 确保图标超出部分被裁剪 */
                box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1), 0 2px 5px rgba(0, 0, 0, 0.2); /* 轻微内阴影和外阴影 */
            }

            .desktop-icon span {
                font-size: 11px;
                text-align: center;
                line-height: 1.2;
                max-width: 100%; /* Prevent text overflow */
                white-space: normal; /* Allow text to wrap if too long */
                word-break: break-word; /* Break long words */
            }

            /* Dock 栏调整为 iOS Dock */
            .dock {
                bottom: 50px; /* 顶部状态栏、Dock、Home 指示条的高度布局 */
                height: 70px; /* iOS Dock 的高度 */
                width: 90%; /* 宽度占满 */
                bottom: 15px;
                max-width: 380px; /* 最大宽度 */
                border-radius: 18px; /* iOS Dock 的圆角 */
                padding: 5px 10px;
                align-items: center; /* 垂直居中图标 */
                justify-content: space-around; /* 均匀分布图标 */
                transform: translateX(-50%); /* 确保水平居中 */
                box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.3); /* 调整Dock阴影 */
                background-color: rgba(0, 0, 0, 0.3); /* 调整Dock背景透明度 */
                border: none; /* Remove border for iOS dock */
            }

            .dock-item {
                margin: 0; /* 移除额外边距 */
                padding-bottom: 0; /* 移除文字留白 */
                transition: none; /* 移除悬停动画 */
            }

            .dock-item .fa-solid, .dock-item .fa-brands {
                font-size: 48px; /* iOS Dock 图标尺寸 */
                width: 60px; /* 背景容器大小 */
                height: 60px;
                background-color: rgba(255, 255, 255, 0.2); /* 模拟图标背景色 */
                border-radius: 18%; /* iOS 典型的“方圆”图标 */
                display: flex;
                justify-content: center;
                align-items: center;
                transform: scale(1); /* 移除悬停时的放大 */
                transition: none;
                box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1), 0 2px 5px rgba(0, 0, 0, 0.2); /* 轻微内阴影和外阴影 */
            }

            .dock-item span {
                display: none; /* 移动端 Dock 不显示文字 */
            }

            .dock-item:hover {
                transform: none; /* 移除悬停抬起效果 */
            }

            .dock-item:hover + .dock-item, .dock-item:hover + .dock-item + .dock-item {
                transform: none; /* 移除相邻图标的缩放 */
            }

            .dock-item:hover .fa-solid, .dock-item:hover .fa-brands {
                transform: scale(1); /* 移除悬停放大 */
            }

            /* 模拟 Home 指示条 */
            .ios-home-indicator {
                position: fixed;
                bottom: 8px; /* 底部位置 */
                left: 50%;
                transform: translateX(-50%);
                width: 130px; /* 指示条宽度 */
                height: 4px; /* 指示条高度 */
                background-color: rgba(255, 255, 255, 0.7); /* 白色半透明 */
                border-radius: 2px;
                z-index: 1000;
                display: block; /* Default display */
            }

            /* 模态窗口调整为 iOS 风格的弹窗 */
            .modal-window {
                width: 90%; /* 占据大部分屏幕宽度 */
                height: 80%; /* 占据大部分屏幕高度 */
                border-radius: 15px; /* 更大的圆角 */
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); /* 柔和阴影 */
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0.8); /* Initial scale for bounce-in */
                opacity: 0;
                transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease-out; /* iOS 风格的打开动画 */
                touch-action: pan-y; /* 允许窗口内容滚动 */
            }

            .modal-window.active {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }

            /* 隐藏 desktop 区域的滚动条 */
            .desktop::-webkit-scrollbar {
                display: none;
            }
            .desktop {
                -ms-overflow-style: none; /* IE and Edge */
                scrollbar-width: none; /* Firefox */
            }

            .window-header {
                background: linear-gradient(to bottom, #f0f0f0, #e0e0e0); /* iOS 标题栏渐变 */
                border-bottom: 1px solid #d0d0d0;
                height: 44px; /* iOS 导航栏高度 */
                padding: 0 10px;
                border-top-left-radius: 15px;
                border-top-right-radius: 15px;
                position: relative; /* 确保子元素可以定位 */
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: default; /* 移动端标题栏不可拖拽 */
            }

            .window-controls {
                display: none; /* iOS 弹窗通常没有红黄绿按钮 */
            }

            .window-title {
                font-size: 17px;
                font-weight: 600;
                color: #333;
                position: static; /* 恢复静态定位 */
                transform: none; /* 移除偏移 */
            }

            /* 在移动端模态窗口中添加一个关闭按钮 */
            .modal-window .close-button-mobile {
                position: absolute;
                right: 15px;
                top: 50%;
                transform: translateY(-50%);
                color: #007aff; /* iOS 蓝色 */
                font-size: 16px;
                cursor: pointer;
                font-weight: normal;
                display: block; /* Default display */
            }

            .window-content {
                padding: 15px;
                border-bottom-left-radius: 15px;
                border-bottom-right-radius: 15px;
                overflow-y: auto; /* 确保内容可以滚动 */
                -webkit-overflow-scrolling: touch; /* 启用iOS平滑滚动 */
            }

            /* Hide context menu on mobile */
            .context-menu {
                display: none !important;
            }

            /* --- iOS Boot Screen Overlay (Mobile Specific) --- */
            .ios-boot-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: #000; /* Black background like iOS boot */
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 2000; /* Ensure it's on top */
                transition: opacity 0.5s ease-out; /* Faster fade out */
            }

            .ios-boot-overlay.hidden {
                opacity: 0;
                pointer-events: none;
                display: none; /* Crucial: completely remove from layout */
            }

            .apple-logo-ios {
                font-size: 100px; /* Larger Apple logo for iOS */
                color: #f0f0f0;
                animation: iosLogoFadeIn 1.5s ease-in-out forwards; /* Fade in and stay */
                opacity: 0; /* Initially hidden */
            }

            @keyframes iosLogoFadeIn {
                0% { opacity: 0; transform: scale(0.8); }
                50% { opacity: 1; transform: scale(1); }
                100% { opacity: 1; transform: scale(1); }
            }
        }
    </style>
</head>
<body>

    <div class="macos-boot-overlay" id="boot-overlay-macos">
        <span class="apple-logo-boot"><i class="fa-brands fa-apple"></i></span>
        <div class="progress-bar-container">
            <div class="progress-bar"></div>
        </div>
    </div>

    <div class="ios-boot-overlay" id="boot-overlay-ios" style="display: none;">
        <span class="apple-logo-ios"><i class="fa-brands fa-apple"></i></span>
    </div>

    <div id="main-content-wrapper" style="display: none;">
        <div class="menu-bar">
            <div class="menu-left">
                <span class="apple-logo"><i class="fa-brands fa-apple"></i></span>
                <span class="menu-item active">Finder</span>
                <span class="menu-item">文件</span>
                <span class="menu-item">编辑</span>
                <span class="menu-item">视图</span>
                <span class="menu-item">前往</span>
                <span class="menu-item">窗口</span>
                <span class="menu-item">帮助</span>
            </div>
            <div class="menu-right">
                <i class="fas fa-wifi menu-icon"></i>
                <i class="fas fa-search menu-icon"></i>
                <i class="fas fa-battery-half menu-icon"></i>
                <i class="fas fa-control-tower menu-icon"></i>
                <span class="menu-item time" id="current-time"></span>
            </div>
        </div>

        <div class="ios-status-bar" style="display: none;">
            <span class="time" id="ios-current-time"></span>
            <div class="icons">
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-full"></i>
            </div>
        </div>

        <div class="desktop" id="desktop">
            <div class="desktop-icon" id="about-me-icon" data-modal-target="about-me-modal">
                <i class="fa-solid fa-user-circle"></i>
                <span>关于我</span>
            </div>
            <div class="desktop-icon" id="portfolio-icon" data-modal-target="portfolio-modal">
                <i class="fa-solid fa-folder-open"></i>
                <span>作品集</span>
            </div>
            <div class="desktop-icon" id="contact-icon" data-modal-target="contact-modal">
                <i class="fa-solid fa-envelope"></i>
                <span>联系我</span>
            </div>
            <div class="desktop-icon" id="change-bg-icon">
                <i class="fa-solid fa-image"></i>
                <span>换壁纸</span>
            </div>
        </div>

        <div class="dock" id="dock">
            <div class="dock-item" data-target="about-me-modal">
                <i class="fa-solid fa-globe"></i>
                <span>关于我</span>
            </div>
            <div class="dock-item" data-target="portfolio-modal">
                <i class="fa-solid fa-image"></i>
                <span>作品集</span>
            </div>
            <div class="dock-item">
                <a href="https://github.com/your-github" target="_blank" style="text-decoration: none; color: inherit;">
                    <i class="fa-brands fa-github"></i>
                    <span>GitHub</span>
                </a>
            </div>
            <div class="dock-item" data-target="contact-modal">
                <i class="fa-solid fa-paper-plane"></i>
                <span>联系我</span>
            </div>
            <div class="dock-item">
                <a href="https://your-blog.com" target="_blank" style="text-decoration: none; color: inherit;">
                    <i class="fa-solid fa-blog"></i>
                    <span>博客</span>
                </a>
            </div>
        </div>

        <div id="modal-container">
            <div class="modal-window" id="about-me-modal">
                <div class="window-header">
                    <div class="window-controls">
                        <span class="close-btn"></span>
                        <span class="minimize-btn"></span>
                        <span class="maximize-btn"></span>
                    </div>
                    <span class="window-title">关于我</span>
                    <span class="close-button-mobile" style="display: none;">完成</span>
                </div>
                <div class="window-content">
                    <h2>👋 你好，我是慕辞！</h2>
                    <p>一位热爱前端开发和用户体验的开发者。</p>
                    <p>我专注于使用现代 Web 技术构建高效、美观、易用的网站和应用。</p>
                    <h3>技能栈：</h3>
                    <ul>
                        <li>**前端：** HTML, CSS, JavaScript (ES6+), React/Vue/Angular (根据你的实际技能)</li>
                        <li>**后端：** Node.js, Python (Django/Flask), PHP (根据你的实际技能)</li>
                        <li>**数据库：** MySQL, PostgreSQL, MongoDB (根据你的实际技能)</li>
                        <li>**工具：** Git, Webpack, Babel</li>
                    </ul>
                    <p>期待与你一起探索 Web 的无限可能！</p>
                </div>
            </div>

            <div class="modal-window" id="portfolio-modal">
                <div class="window-header">
                    <div class="window-controls">
                        <span class="close-btn"></span>
                        <span class="minimize-btn"></span>
                        <span class="maximize-btn"></span>
                    </div>
                    <span class="window-title">我的作品集</span>
                    <span class="close-button-mobile" style="display: none;">完成</span>
                </div>
                <div class="window-content">
                    <h3>精选项目：</h3>
                    <div class="project-item">
                        <h4>项目一：[项目名称]</h4>
                        <p>这是一个关于 [项目简介] 的项目。我负责了 [你的职责] 部分。</p>
                        <p>使用了技术栈：[技术栈]</p>
                        <a href="[项目链接]" target="_blank">查看项目</a> | <a href="[GitHub链接]" target="_blank">GitHub</a>
                    </div>
                    <div class="project-item">
                        <h4>项目二：[项目名称]</h4>
                        <p>这是一个关于 [项目简介] 的项目。主要实现了 [主要功能]。</p>
                        <p>使用了技术栈：[技术栈]</p>
                        <a href="[项目链接]" target="_blank">查看项目</a> | <a href="[GitHub链接]" target="_blank">GitHub</a>
                    </div>
                    <p>更多项目请访问我的 <a href="https://github.com/your-github" target="_blank">GitHub 主页</a>。</p>
                </div>
            </div>

            <div class="modal-window" id="contact-modal">
                <div class="window-header">
                    <div class="window-controls">
                        <span class="close-btn"></span>
                        <span class="minimize-btn"></span>
                        <span class="maximize-btn"></span>
                    </div>
                    <span class="window-title">联系我</span>
                    <span class="close-button-mobile" style="display: none;">完成</span>
                </div>
                <div class="window-content">
                    <h3>📬 欢迎联系我！</h3>
                    <p>如果你对我的作品感兴趣，或者有任何合作意向，随时可以通过以下方式联系我：</p>
                    <ul>
                        <li>**邮箱：** <a href="mailto:your-email@example.com">your-email@example.com</a></li>
                        <li>**GitHub：** <a href="https://github.com/your-github" target="_blank">github.com/your-github</a></li>
                        <li>**领英：** <a href="https://linkedin.com/in/your-linkedin" target="_blank">linkedin.com/in/your-linkedin</a> (如果使用)</li>
                        <li>**微信：** [你的微信号] (如果愿意公开)</li>
                    </ul>
                    <p>期待与你交流！</p>
                </div>
            </div>
        </div>

        <div class="ios-home-indicator"></div>

        <div class="context-menu" id="desktop-context-menu">
            <div class="context-menu-item" data-action="new-folder">新建文件夹</div>
            <div class="context-menu-item" data-action="get-info">显示简介</div>
            <div class="context-menu-separator"></div>
            <div class="context-menu-item" data-action="change-wallpaper">更改桌面背景...</div>
        </div>

        <div class="context-menu" id="icon-context-menu">
            <div class="context-menu-item" data-action="open-app">打开</div>
            <div class="context-menu-item" data-action="get-info-app">显示简介</div>
            <div class="context-menu-separator"></div>
            <div class="context-menu-item" data-action="delete-app">移到废纸篓</div>
        </div>
    </div> <script>
        document.addEventListener('DOMContentLoaded', () => {
            const isMobile = window.innerWidth <= 768;

            const macosBootOverlay = document.getElementById('boot-overlay-macos');
            const iosBootOverlay = document.getElementById('boot-overlay-ios');
            const mainContentWrapper = document.getElementById('main-content-wrapper');

            // --- Initial State Setup ---
            // Hide macOS specific elements if on mobile
            if (isMobile) {
                document.querySelector('.menu-bar').style.display = 'none';
                document.querySelector('.ios-status-bar').style.display = 'flex'; // Show iOS status bar
                document.querySelector('.ios-home-indicator').style.display = 'block'; // Show iOS home indicator
                macosBootOverlay.style.display = 'none'; // Ensure macOS overlay is hidden
                iosBootOverlay.style.display = 'flex'; // Show iOS boot overlay
            } else {
                // Hide iOS specific elements if on desktop
                document.querySelector('.ios-status-bar').style.display = 'none';
                document.querySelector('.ios-home-indicator').style.display = 'none';
                iosBootOverlay.style.display = 'none'; // Ensure iOS overlay is hidden
                macosBootOverlay.style.display = 'flex'; // Show macOS boot overlay
            }

            // Hide the main content initially, regardless of platform
            mainContentWrapper.style.display = 'none';

            // --- Boot Up Animation Logic ---
            const showMainContent = () => {
                mainContentWrapper.style.display = 'block'; // Show the wrapper
                // For iOS, explicitly set display for elements inside if necessary
                if (isMobile) {
                    document.getElementById('desktop').style.display = 'flex';
                    document.getElementById('dock').style.display = 'flex';
                    // No need to explicitly show modal-container as modals are hidden by default
                } else {
                    // For macOS, ensure elements are flex/block as their default CSS might be overridden
                    document.querySelector('.menu-bar').style.display = 'flex';
                    document.getElementById('desktop').style.display = 'flex';
                    document.getElementById('dock').style.display = 'flex';
                }
            };

            if (!isMobile) { // Apply macOS boot for desktop
                macosBootOverlay.addEventListener('animationend', (e) => {
                    if (e.animationName === 'fillProgress') {
                        macosBootOverlay.classList.add('hidden');
                        showMainContent();
                    }
                });
            } else { // Apply iOS boot for mobile
                // Listen for the specific iOS logo animation end
                iosBootOverlay.querySelector('.apple-logo-ios').addEventListener('animationend', () => {
                    iosBootOverlay.classList.add('hidden');
                    showMainContent();
                }, { once: true }); // Ensure this only runs once
            }


            // --- 获取元素 ---
            const dock = document.getElementById('dock');
            const dockItems = document.querySelectorAll('.dock-item');
            const desktop = document.getElementById('desktop');
            const desktopIcons = document.querySelectorAll('.desktop-icon');
            const modalWindows = document.querySelectorAll('.modal-window');
            const closeButtons = document.querySelectorAll('.close-btn');
            const minimizeButtons = document.querySelectorAll('.minimize-btn');
            const maximizeButtons = document.querySelectorAll('.maximize-btn');
            const mobileCloseButtons = document.querySelectorAll('.close-button-mobile');
            const windowHeaders = document.querySelectorAll('.window-header');
            const currentTimeSpan = document.getElementById('current-time');
            const iosCurrentTimeSpan = document.getElementById('ios-current-time');

            const desktopContextMenu = document.getElementById('desktop-context-menu');
            const iconContextMenu = document.getElementById('icon-context-menu');
            let activeContextMenu = null; // Track which context menu is open

            // --- 时间显示 ---
            function updateTime() {
                const now = new Date();
                const options = { hour: '2-digit', minute: '2-digit', hour12: false };
                currentTimeSpan.textContent = now.toLocaleTimeString('zh-CN', options);
                iosCurrentTimeSpan.textContent = now.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit', hour12: false });
            }
            setInterval(updateTime, 1000);
            updateTime();

            // --- 窗口管理 ---
            function openModal(modalId) {
                // Hide all currently active windows
                modalWindows.forEach(modal => {
                    if (modal.classList.contains('active')) {
                        modal.classList.remove('active');
                        modal.classList.add('hidden'); // Add hidden class after active is removed
                        modal.style.zIndex = 997;
                    }
                });

                const targetModal = document.getElementById(modalId);
                if (targetModal) {
                    targetModal.classList.remove('hidden'); // Remove hidden class first
                    // Force reflow to restart animation
                    void targetModal.offsetWidth;
                    targetModal.classList.add('active');
                    targetModal.style.zIndex = 998;
                }
            }

            function closeOrMinimizeModal(modal, isMinimize = false) {
                if (isMinimize) {
                    modal.classList.add('minimizing');
                    // After the minimize animation, completely hide it
                    modal.addEventListener('transitionend', function handler() {
                        modal.classList.remove('active', 'minimizing');
                        modal.classList.add('hidden');
                        modal.removeEventListener('transitionend', handler);
                    });
                } else {
                    modal.classList.remove('active');
                    modal.addEventListener('transitionend', function handler() {
                        modal.classList.add('hidden');
                        modal.removeEventListener('transitionend', handler);
                    }, { once: true });
                }
            }

            // --- 事件监听器：打开模态窗口 ---
            dockItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    if (item.querySelector('a') && e.target.tagName !== 'I') { // Allow direct link clicks
                        return;
                    }
                    e.preventDefault(); // Prevent default link behavior if it's an icon click
                    const targetId = item.dataset.target;
                    if (targetId) {
                        openModal(targetId);
                    }
                });
            });

            desktopIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    const targetId = icon.dataset.modalTarget;
                    if (targetId) {
                        openModal(targetId);
                    }
                });
            });

            // --- 事件监听器：关闭/最小化/最大化模态窗口 ---
            closeButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const modal = e.target.closest('.modal-window');
                    if (modal) {
                        closeOrMinimizeModal(modal);
                    }
                });
            });

            minimizeButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const modal = e.target.closest('.modal-window');
                    if (modal) {
                        closeOrMinimizeModal(modal, true);
                    }
                });
            });

            // For now, maximize does the same as close. You can expand this.
            maximizeButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const modal = e.target.closest('.modal-window');
                    if (modal) {
                        // Implement full screen or snap to grid logic here
                        alert('最大化功能待实现！'); // Placeholder
                    }
                });
            });

            mobileCloseButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const modal = e.target.closest('.modal-window');
                    if (modal) {
                        closeOrMinimizeModal(modal);
                    }
                });
            });

            // --- 模态窗口拖拽 (macOS only) ---
            windowHeaders.forEach(header => {
                let isDragging = false;
                let offsetX, offsetY;
                const modal = header.closest('.modal-window');

                if (!isMobile) { // Only enable drag for desktop
                    header.addEventListener('mousedown', (e) => {
                        isDragging = true;
                        offsetX = e.clientX - modal.getBoundingClientRect().left;
                        offsetY = e.clientY - modal.getBoundingClientRect().top;
                        modal.style.cursor = 'grabbing';
                        modal.style.transition = 'none'; // Disable transition during drag
                    });

                    document.addEventListener('mousemove', (e) => {
                        if (!isDragging) return;
                        modal.style.left = `${e.clientX - offsetX}px`;
                        modal.style.top = `${e.clientY - offsetY}px`;
                    });

                    document.addEventListener('mouseup', () => {
                        isDragging = false;
                        modal.style.cursor = 'grab';
                        modal.style.transition = ''; // Restore transition
                    });
                }
            });

            // --- 窗口激活管理 (点击窗口使其置顶) ---
            modalWindows.forEach(modal => {
                modal.addEventListener('mousedown', () => {
                    modalWindows.forEach(m => {
                        if (m !== modal) {
                            m.style.zIndex = 997;
                        }
                    });
                    modal.style.zIndex = 998;
                });
            });

            // --- macOS Dock Magnification Effect ---
            if (!isMobile) {
                dock.addEventListener('mousemove', (e) => {
                    const dockRect = dock.getBoundingClientRect();
                    const mouseX = e.clientX - dockRect.left; // Mouse X relative to dock

                    dockItems.forEach(item => {
                        const itemRect = item.getBoundingClientRect();
                        const itemCenterX = (itemRect.left + itemRect.right) / 2 - dockRect.left;

                        // Calculate distance from mouse to item center
                        let distance = Math.abs(mouseX - itemCenterX);

                        // Define the magnification zone (e.g., 100px around mouse)
                        const magnificationZone = 120; // Adjust this value
                        let scale = 1;

                        if (distance < magnificationZone) {
                            // Map distance to a scale factor (closer = larger)
                            // Using a cubic bezier for a smoother, more "bouncy" falloff
                            // f(x) = (1 - x/magnificationZone)^3 + 1
                            scale = 1 + 0.8 * (1 - distance / magnificationZone); // Max scale 1.8 (adjust as needed)
                        }
                        item.style.transform = `scale(${scale})`;
                    });
                });

                dock.addEventListener('mouseleave', () => {
                    dockItems.forEach(item => {
                        item.style.transform = 'scale(1)'; // Reset all items to normal size
                    });
                });
            }

            // --- Right-Click Context Menu ---
            function showContextMenu(menu, x, y, targetElement) {
                hideContextMenu(); // Hide any existing menu
                activeContextMenu = menu;
                menu.style.left = `${x}px`;
                menu.style.top = `${y}px`;
                menu.style.display = 'block';
                menu.dataset.targetElementId = targetElement ? targetElement.id : ''; // Store target ID

                // Ensure menu doesn't go off screen
                const menuRect = menu.getBoundingClientRect();
                if (menuRect.right > window.innerWidth) {
                    menu.style.left = `${x - menuRect.width}px`;
                }
                if (menuRect.bottom > window.innerHeight) {
                    menu.style.top = `${y - menuRect.height}px`;
                }
            }

            function hideContextMenu() {
                if (activeContextMenu) {
                    activeContextMenu.style.display = 'none';
                    activeContextMenu.removeAttribute('data-target-element-id');
                    activeContextMenu = null;
                }
            }

            // Global click listener to hide context menu when clicking outside
            document.addEventListener('click', (e) => {
                if (activeContextMenu && !activeContextMenu.contains(e.target)) {
                    hideContextMenu();
                }
            });

            // Desktop right-click
            desktop.addEventListener('contextmenu', (e) => {
                e.preventDefault(); // Prevent default browser context menu
                if (isMobile) return; // Disable for mobile
                showContextMenu(desktopContextMenu, e.clientX, e.clientY, null);
            });

            // Desktop icon right-click
            desktopIcons.forEach(icon => {
                icon.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    if (isMobile) return;
                    showContextMenu(iconContextMenu, e.clientX, e.clientY, icon);
                });
            });

            // Handle context menu actions
            desktopContextMenu.addEventListener('click', (e) => {
                const action = e.target.dataset.action;
                if (action === 'new-folder') {
                    alert('新建文件夹功能待实现！');
                } else if (action === 'get-info') {
                    alert('显示简介功能待实现！');
                } else if (action === 'change-wallpaper') {
                    changeDesktopBackground();
                }
                hideContextMenu();
            });

            iconContextMenu.addEventListener('click', (e) => {
                const action = e.target.dataset.action;
                const targetIconId = iconContextMenu.dataset.targetElementId;
                const targetIcon = document.getElementById(targetIconId);
                const modalTarget = targetIcon ? targetIcon.dataset.modalTarget : null;

                if (action === 'open-app' && modalTarget) {
                    openModal(modalTarget);
                } else if (action === 'get-info-app') {
                    alert(`显示 "${targetIcon.querySelector('span').textContent}" 的简介功能待实现！`);
                } else if (action === 'delete-app') {
                    if (confirm(`确定要将 "${targetIcon.querySelector('span').textContent}" 移到废纸篓吗？`)) {
                        targetIcon.remove(); // Simple removal, no actual trash
                    }
                }
                hideContextMenu();
            });

            // --- Dynamic Background Change (Placeholder) ---
            const backgrounds = [
                'https://4kwallpapers.com/images/walls/thumbs_2t/5893.jpg', // Original macOS
                'https://images.unsplash.com/photo-1542435503-956c469947f6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80', // Nature
                'https://images.unsplash.com/photo-1518608821424-69db380a0494?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80', // Abstract
                'https://images.unsplash.com/photo-1621243831776-b6e828d5d3b6?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80' // Dark abstract
            ];
            let currentBackgroundIndex = 0;

            function changeDesktopBackground() {
                currentBackgroundIndex = (currentBackgroundIndex + 1) % backgrounds.length;
                document.body.style.backgroundImage = `url('${backgrounds[currentBackgroundIndex]}')`;
                // Add a subtle transition for background change if desired
                document.body.style.transition = 'background-image 0.5s ease-in-out';
            }

            // Bind change wallpaper icon click
            const changeBgIcon = document.getElementById('change-bg-icon');
            if (changeBgIcon) {
                changeBgIcon.addEventListener('click', changeDesktopBackground);
            }

            // --- iOS Desktop Icon Dragging (Basic) ---
            if (isMobile) {
                let activeDragIcon = null;
                let initialX, initialY;
                let currentX, currentY;
                let xOffset = 0, yOffset = 0;

                desktopIcons.forEach(icon => {
                    icon.addEventListener('touchstart', (e) => {
                        activeDragIcon = icon;
                        icon.classList.add('dragging'); // Visual feedback for dragging
                        initialX = e.touches[0].clientX - xOffset;
                        initialY = e.touches[0].clientY - yOffset;
                        // Bring to front while dragging
                        icon.style.zIndex = 10;
                        // Prevent scrolling while dragging
                        document.body.style.overflow = 'hidden';
                    });

                    icon.addEventListener('touchmove', (e) => {
                        if (activeDragIcon) {
                            e.preventDefault(); // Prevent default touch behavior (scrolling, zooming)
                            currentX = e.touches[0].clientX - initialX;
                            currentY = e.touches[0].clientY - initialY;
                            xOffset = currentX;
                            yOffset = currentY;

                            activeDragIcon.style.transform = `translate3d(${currentX}px, ${currentY}px, 0)`;
                        }
                    });

                    icon.addEventListener('touchend', () => {
                        if (activeDragIcon) {
                            activeDragIcon.classList.remove('dragging');
                            activeDragIcon.style.zIndex = ''; // Reset z-index
                            // Reset transform for next drag. For persistent placement, you'd save positions.
                            activeDragIcon.style.transform = 'translate3d(0, 0, 0)';
                            activeDragIcon = null;
                            xOffset = 0;
                            yOffset = 0;
                            document.body.style.overflow = ''; // Restore scrolling
                        }
                    });
                });
            }

            // --- Dock Bounce for Applications when Opened (macOS only) ---
            if (!isMobile) {
                const bounce = (item) => {
                    item.style.animation = 'dockBounce 0.4s ease-in-out';
                    item.addEventListener('animationend', () => {
                        item.style.animation = ''; // Remove animation after it ends
                    }, { once: true });
                };

                // Add bounce animation keyframe
                const styleSheet = document.styleSheets[0];
                const dockBounceKeyframes = `@keyframes dockBounce {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.15); }
                }`;
                styleSheet.insertRule(dockBounceKeyframes, styleSheet.cssRules.length);


                dockItems.forEach(item => {
                    const targetModalId = item.dataset.target;
                    if (targetModalId) {
                        const modal = document.getElementById(targetModalId);
                        if (modal) {
                            modal.addEventListener('transitionstart', () => {
                                // Only bounce if the window is being opened (opacity goes from 0 to 1)
                                if (!modal.classList.contains('active')) {
                                    bounce(item);
                                }
                            });
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
